!function($app){var patternFormat=function(e){return e?$(e).attr("format")||"DD/MM/YYYY":"DD/MM/YYYY"};app.directive("asDate",function(){return{require:"^ngModel",restrict:"A",link:function(e,t,r,a){function n(){var e=t.val(),r=moment(e,patternFormat(t));r.isValid()&&a.$setViewValue(r.toDate())}if(a){var i=patternFormat(t),o={format:i,locale:"pt-BR",showTodayButton:!0,useStrict:!0,tooltips:{today:"Hoje",clear:"Limpar seleção",close:"Fechar",selectMonth:"Selecionar mês",prevMonth:"Mês anterior",nextMonth:"Próximo mês",selectYear:"Selecionar ano",prevYear:"Ano anterior",nextYear:"Próximo ano",selectDecade:"Selecionar década",prevDecade:"Década anterior",nextDecade:"Próxima década",prevCentury:"Século anterior",nextCentury:"Próximo século"}};"DD/MM/YYYY"!=i&&(o.sideBySide=!0),t.datetimepicker(o),t.on("dp.change",function(){$(this).is(":visible")&&e.$apply(n)}),a.$render=function(){if(a.$viewValue){var e=moment(a.$viewValue);if(e.isValid())t.val(e.format(patternFormat(t)));else{var r=parseInt(a.$viewValue,10);e=moment(r),e.isValid()?t.val(e.format(patternFormat(t))):t.val("")}}else t.data("DateTimePicker").clear(),t.val("")},n()}}}}).directive("ngDestroy",function(){return{restrict:"A",link:function(scope,element,attrs,ctrl){element.on("$destroy",function(){attrs.ngDestroy&&attrs.ngDestroy.length>0&&(attrs.ngDestroy.indexOf("app.")>-1||attrs.ngDestroy.indexOf("blockly.")>-1?scope.$eval(attrs.ngDestroy):eval(attrs.ngDestroy))})}}}).directive("pwCheck",[function(){"use strict";return{require:"ngModel",link:function(e,t,r,a){var n="#"+r.pwCheck;t.add(n).on("keyup",function(){e.$apply(function(){var e=t.val()===$(n).val();a.$setValidity("pwmatch",e)})})}}}]).directive("valid",function(){return{require:"^ngModel",restrict:"A",link:function(e,t,r,a){var n={cpf:CPF,cnpj:CNPJ};a.$validators[r.valid]=function(e,a){var i=e||a,o=n[r.valid].isValid(i);return o?t[0].setCustomValidity(""):t[0].setCustomValidity(t[0].dataset.errorMessage),o||!i}}}})}(app);